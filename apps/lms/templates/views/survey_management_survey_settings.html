<style>
.tab-pane{
    background-color: #fff;
}
</style>
<div class="hcs-container" view-id="${register_view()}" style="height: 100%">
    <div style="height: 100%;">
        <div class="tab-pane" style="padding-right:unset; height: 100%; ">
            <div>
                <header-page  on-save="onSave" 
                              on-import="onImport" 
                              on-export="onExport"
                              on-refresh="onRefresh"
                              on-search-press="onSearch"
                              key-field="function_id" 
                              display-field="default_name" 
                              icon-field="icon" 
                              selected-key="$root.currentFunction.function_id"
                              reload-on-change="false">
                    <site-map>
                        <span>{{$root.currentFunction.default_name}}</span>
                        <div class="hcs-resp-action-zb-left-content" style="float: right;">
                            <button class="zb-btn zb-btn-o-green"
                                    ng-click="$root.doToggle('.zb-right-content')">
                                <i class="bowtie-icon bowtie-menu"></i>
                            </button>
                        </div>
                    </site-map>
                </header-page>
            </div>
            <div class="hcs-right-side-department-list" style="height: calc(100% - 40px);">
                <div class="hcs-tab-info">
                    <div class="col-xs-12 col-md-12 competency no-padding" style="margin-top: 15px;">
                        <div class="hcs-tab-info-box active" href="#tab_default_1" data-toggle="tab" ng-click="changeActive($event)" style=" text-align: start;width: 220px;padding: 0px;margin-left: 35px;">
                            <label style="font-size: 18px;text-transform: uppercase;">
                                    <i style="font-size: 22px;" class="bowtie-icon bowtie-settings-gear-outline" ></i>
                                ${get_res('general_settings','General Settings')}
                            </label>
                        </div>
                        <div style="float: left;
                           
                            height: 30px;
                            margin-top: 7px;"></div>
                        <div class="hcs-tab-info-box" href="#tab_default_2" data-toggle="tab" ng-click="changeActive($event)" >
                            
                            <label style="font-size: 18px;line-height: 0.9;text-transform: uppercase;" >
                                <i style="font-size: 22px;" class="sap-icon sap-email-read"></i>
                                ${get_res('email_settings','E-Mail Settings')}
                            </label>
                        </div>
                    </div>
                </div>
                <div class="tab-content hcs-format">
                    <div class="tab-pane active" id="tab_default_1">
                        <div class="col-xs-12 col-md-12">
                            <div>
                                <collapse-box class="zb-form-common"   title="${get_res('survey_setting','Survey Settings')}">
                                   
                                    <div class="col-xs-6 col-md-6 col-sm-6" style="padding-bottom:50px">
                                            <div class="form-group zb-form-group">
                                                <label class="col-sm-6 zb-form-label">${get_res('course_evalua_by_students','Course Evaluation by Students')}</label>
                                                <div class="col-sm-6">
                                                    <input-checkbox ng-model="entity.course_evalua_students"></input-checkbox>
                                                </div>
                                            </div>
                                            <div class="form-group zb-form-group">
                                                <label class="col-sm-6 zb-form-label">${get_res('choose_sur_temp','Choose Survey Template')}</label>
                                                <div class="col-sm-6">
                                                    <combobox load-data="$root.$getComboboxData" ng-model="entity.survey_temp_students"
                                                        params="{key:'${encryptor.get_key('lms_cbb_sur_template')}', value:[{'@survey_type': 1}]}"
                                                        on-search-change="false" on-search-press="true" placeholder=""
                                                        init-data="$$$lms_cbb_sur_template.value" caption-field="{{$$$lms_cbb_sur_template.caption_field}}"
                                                        paging="true" close-on-select="false" template-fields="$$$lms_cbb_sur_template.display_fields" ng-disabled="!entity.course_evalua_students"

                                                        reload="true">
                                                    </combobox>
                                                </div>
                                            </div>
                                            <div class="form-group zb-form-group">
                                                <label class="col-sm-6 zb-form-label">${get_res('course_evalua_by_teachers','Course Evaluation by Teachers')}</label>
                                                <div class="col-sm-6">
                                                    <input-checkbox ng-model="entity.course_evalua_teachers" ></input-checkbox>
                                                </div>
                                            </div>
                                            <div class="form-group zb-form-group">
                                                <label class="col-sm-6 zb-form-label">${get_res('choose_sur_temp','Choose Survey Template')}</label>
                                                <div class="col-sm-6">
                                                    <combobox load-data="$root.$getComboboxData" ng-model="entity.survey_temp_teachers"
                                                        params="{key:'${encryptor.get_key('lms_cbb_sur_template')}', value:[{'@survey_type': 2}]}"
                                                        on-search-change="false" on-search-press="true" placeholder=""
                                                        init-data="$$$lms_cbb_sur_template.value" caption-field="{{$$$lms_cbb_sur_template.caption_field}}"
                                                        paging="true" close-on-select="true" template-fields="$$$lms_cbb_sur_template.display_fields"
                                                        reload="false" ng-disabled="!entity.course_evalua_teachers">
                                                    </combobox>
                                                </div>
                                            </div>
                                            <div class="form-group zb-form-group">
                                                <label class="col-sm-6 zb-form-label">${get_res('course_evalua_by_training_dept','Course Evaluation by Training Department')}</label>
                                                <div class="col-sm-6">
                                                    <input-checkbox ng-model="entity.course_evalua_dept"></input-checkbox>
                                                </div>
                                            </div>
                                            <div class="form-group zb-form-group">
                                                <label class="col-sm-6 zb-form-label">${get_res('choose_sur_temp','Choose Survey Template')}</label>
                                                <div class="col-sm-6">
                                                    <combobox load-data="$root.$getComboboxData" ng-model="entity.survey_temp_dept"
                                                        params="{key:'${encryptor.get_key('lms_cbb_sur_template')}', value:[{'@survey_type': 3}]}"
                                                        on-search-change="false" on-search-press="true" placeholder=""
                                                        init-data="$$$lms_cbb_sur_template.value" caption-field="{{$$$lms_cbb_sur_template.caption_field}}"
                                                        paging="true" close-on-select="true" template-fields="$$$lms_cbb_sur_template.display_fields"
                                                        reload="false" ng-disabled="!entity.course_evalua_dept">
                                                    </combobox>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-xs-6 col-md-6 col-sm-6">
                                            <div class="form-group zb-form-group">
                                                <label class="col-sm-6 zb-form-label">${get_res('supplier_evalu_by_training_deptt','Supplier Evaluation by Training Department')}</label>
                                                <div class="col-sm-6">
                                                    <input-checkbox ng-model="entity.supplier_evalua_dept"></input-checkbox>
                                                </div>
                                            </div>
                                            <div class="form-group zb-form-group">
                                                <label class="col-sm-6 zb-form-label">${get_res('choose_sur_temp','Choose Survey Template')}</label>
                                                <div class="col-sm-6">
                                                    <combobox load-data="$root.$getComboboxData" ng-model="entity.survey_temp_sup_dept"
                                                        params="{key:'${encryptor.get_key('lms_cbb_sur_template')}', value:[{'@survey_type': 4}]}"
                                                        on-search-change="false" on-search-press="true" placeholder=""
                                                        init-data="$$$lms_cbb_sur_template.value" caption-field="{{$$$lms_cbb_sur_template.caption_field}}"
                                                        paging="true" close-on-select="true" template-fields="$$$lms_cbb_sur_template.display_fields"
                                                        reload="false" ng-disabled="!entity.supplier_evalua_dept">
                                                    </combobox>
                                                </div>
                                            </div>
                                            <div class="form-group zb-form-group">
                                                <label class="col-sm-6 zb-form-label">${get_res('emp_voice','Employee Voice')}</label>
                                                <div class="col-sm-6">
                                                    <input-checkbox ng-model="entity.emp_voice"></input-checkbox>
                                                </div>
                                            </div>
                                            <div class="form-group zb-form-group">
                                                <label class="col-sm-6 zb-form-label">${get_res('choose_sur_temp','Choose Survey Template')}</label>
                                                <div class="col-sm-6">
                                                    <combobox load-data="$root.$getComboboxData" ng-model="entity.survey_temp_emp_voice"
                                                        params="{key:'${encryptor.get_key('lms_cbb_sur_template')}', value:[{'@survey_type': 1}]}"
                                                        on-search-change="false" on-search-press="true" placeholder=""
                                                        init-data="$$$lms_cbb_sur_template.value" caption-field="{{$$$lms_cbb_sur_template.caption_field}}"
                                                        paging="true" close-on-select="true" template-fields="$$$lms_cbb_sur_template.display_fields"
                                                        reload="false"  ng-disabled="!entity.emp_voice">
                                                    </combobox>
                                                </div>
                                            </div>
                                            <div class="form-group zb-form-group">
                                                <label class="col-sm-6 zb-form-label">${get_res('other','Other')}</label>
                                                <div class="col-sm-6">
                                                    <input-checkbox ng-model="entity.other_sur"></input-checkbox>
                                                </div>
                                            </div>
                                            <div class="form-group zb-form-group">
                                                <label class="col-sm-6 zb-form-label">${get_res('choose_sur_temp','Choose Survey Template')}</label>
                                                <div class="col-sm-6">
                                                    <combobox load-data="$root.$getComboboxData" ng-model="entity.survey_temp_other"
                                                        params="{key:'${encryptor.get_key('lms_cbb_sur_template')}', value:[{'@survey_type': 1}]}"
                                                        on-search-change="false" on-search-press="true" placeholder=""
                                                        init-data="$$$lms_cbb_sur_template.value" caption-field="{{$$$lms_cbb_sur_template.caption_field}}"
                                                        paging="true" close-on-select="true" template-fields="$$$lms_cbb_sur_template.display_fields"
                                                        reload="false" ng-disabled="!entity.other_sur">
                                                    </combobox>
                                                </div>
                                            </div>
                                        </div>
                                </collapse-box>
                            </div>
                            <div >
                            <collapse-box class="zb-form-common"   title="${get_res('survey_setting','Survey Settings')}">
                                <div class="col-xs-6 col-md-6 col-sm-6">
                                    <div class="form-group zb-form-group">
                                       <label class="col-sm-6 zb-form-label">${get_res('question_order','Question Order')}</label>
                                       <div class="col-sm-6"> 
                                           <input-select                                
                                           data-list="vll_LMS_LSurvey_question_order"
                                           ng-model="entity.ques_order"
                                           placeholder="${get_res('sur_ques_order_place_holder','')}"
                                           data-value="value" 
                                           data-caption="caption"/>
                                       </div>
                                   </div>
                                   <div class="form-group zb-form-group">
                                       <label class="col-sm-6 zb-form-label">${get_res('allow_pause_&_resume','Allow Pause & Resumse')}</label>
                                       <div class="col-sm-6"> 
                                           <input-checkbox ng-model="entity.allow_pause_resumse"></input-checkbox>
                                       </div>
                                   </div>
                                   <div class="form-group zb-form-group">
                                       <label class="col-sm-6 zb-form-label">${get_res('allow_anonymous_survey','Allow Anonymous Survey')}</label>
                                       <div class="col-sm-6"> 
                                           <input-checkbox ng-model="entity.allow_anony_survey"></input-checkbox>
                                       </div>
                                   </div>
                                   <div class="form-group zb-form-group">
                                       <label class="col-sm-6 zb-form-label">${get_res('prevent_num_res','Prevent Numerous Response From 1 PC')}</label>
                                       <div class="col-sm-6"> 
                                           <input-checkbox ng-model="entity.prevent_num_res"></input-checkbox>
                                       </div>
                                   </div>
                                   <div class="form-group zb-form-group">
                                       <label class="col-sm-6 zb-form-label">${get_res('question_navigation_during_the_survey','Question Navigation During The Survey')}</label>
                                       <div class="col-sm-6"> 
                                           <input-checkbox ng-model="entity.ques_nav_sur"></input-checkbox>
                                       </div>
                                   </div>
                                </div>
                                <div class="col-xs-6 col-md-6 col-sm-6" style="padding-left: 30px;">
                                    <div class="form-group zb-form-group">
                                       <label class="col-sm-6 zb-form-label">${get_res('set_time_limit','Set time limit')}</label>
                                       <div class="col-sm-6"> 
                                           <input-select 
                                       
                                           data-list="vll_LMS_LSurvey_set_time_limit"
                                           ng-model="entity.survey_time_limit"
                                           placeholder="${get_res('sur_ques_order_place_holder','')}"
                                           data-value="value" 
                                           data-caption="caption"/>
                                       </div>
                                   </div>
                                   <div class="form-group zb-form-group">
                                       <label class="col-sm-6 zb-form-label">${get_res('set_reponse_limit','Set responses limit')}</label>
                                       <div class="col-sm-6"> 
                                           <input-select 
                                           data-list="vll_LMS_LSurvey_set_response_limit"
                                           ng-model="entity.survey_res_limit"
                                           placeholder="${get_res('sur_ques_order_place_holder','')}"
                                           data-value="value" 
                                           data-caption="caption"/>
                                       </div>
                                   </div>
                                   <div class="form-group zb-form-group">
                                       <label class="col-sm-6 zb-form-label">${get_res('show_process_bar','Show process bar')}</label>
                                       <div class="col-sm-6"> 
                                           <input-checkbox ng-model="entity.show_process_bar"></input-checkbox>
                                       </div>
                                   </div>
                                   <div class="form-group zb-form-group">
                                       <label class="col-sm-6 zb-form-label">${get_res('show_question_numbering','Show questions numbering')}</label>
                                       <div class="col-sm-6"> 
                                           <input-checkbox ng-model="entity.show_ques_num"></input-checkbox>
                                       </div>
                                   </div>
                                   <div class="form-group zb-form-group">
                                       <label class="col-sm-6 zb-form-label">${get_res('allow_responses_to_be_edited_after_submissions','Allow responses to be edited after submissions')}</label>
                                       <div class="col-sm-6"> 
                                           <input-checkbox ng-model="entity.allow_res_edit"></input-checkbox>
                                       </div>
                                   </div>
                                </div>
                            </collapse-box>
                        </div>
                      </div>
                    </div>
                    <div class="tab-pane" id="tab_default_2">
                        <div class="col-xs-12 col-md-12">
                                <div class="row">
                                    <div class="col-xs-12 col-md-6">
                                            <collapse-box class="zb-form-common"   title="${get_res('notification_emails','Notification Emails')}"> 
                                            
                                            <div class="zb-content hcs-zb-content-custom">
                                                <div class="col-xs-12 col-md-12 col-sm-12" style="padding-right:unset;">
                                                    <div class="form-group zb-form-group">
                                                        <label class="col-sm-6 zb-form-label">${get_res('email_template','Email Template')}</label>
                                                        <div class="col-sm-6">
                                                            <combobox 
                                                            load-data="$root.$getComboboxData"
                                                            ng-model="entity.notif_email_temp"
                                                            params="{key:'${encryptor.get_key('lms_cbb_sur_question_category')}', value:[]}"
                                                            on-search-change="false"
                                                            on-search-press="true"
                                                            placeholder=""
                                                            init-data="$$$lms_cbb_sur_question_category.value"
                                                            caption-field="{{$$$lms_cbb_sur_question_category.caption_field}}"
                                                            paging="true"
                                                            close-on-select="true"
                                                            template-fields="$$$lms_cbb_sur_question_category.display_fields"
                                                            reload="false">
                                                        </combobox>
                                                        </div>
                                                    </div>
                                                    <div class="form-group zb-form-group">
                                                        <label class="col-sm-6 zb-form-label">${get_res('send_to','Send to')}</label>
                                                        <div class="col-sm-6">
                                                            <input-select 
                                                                data-list="vll_LMS_LSurvey_set_response_limit"
                                                                ng-model="entity.notif_send_to"
                                                                placeholder="${get_res('sur_ques_order_place_holder','')}"
                                                                data-value="value" 
                                                                data-caption="caption"/>
                                                        </div>
                                                    </div>
                                                    <div class="form-group zb-form-group">
                                                        <label class="col-sm-6 zb-form-label">${get_res('CC','CC')}</label>
                                                        <div class="col-sm-6">
                                                            <input-select 
                                                            data-list="vll_LMS_LSurvey_set_response_limit"
                                                            ng-model="entity.notif_CC"
                                                            placeholder="${get_res('sur_ques_order_place_holder','')}"
                                                            data-value="value" 
                                                            data-caption="caption"/>
                                                        </div>
                                                    </div>
                                                    <div class="form-group zb-form-group">
                                                        <label class="col-sm-6 zb-form-label">${get_res('BCC','BCC')}</label>
                                                        <div class="col-sm-6">
                                                            <input-select 
                                                                data-list="vll_LMS_LSurvey_set_response_limit"
                                                                ng-model="entity.notif_BCC"
                                                                placeholder="${get_res('sur_ques_order_place_holder','')}"
                                                                data-value="value" 
                                                                data-caption="caption"/>
                                                        </div>
                                                    </div>
                                                    <div class="form-group zb-form-group">
                                                        <label class="col-sm-6 zb-form-label">${get_res('when_to_send_mail','When to send mail')}</label>
                                                        <div class="col-sm-6">
                                                            <label class="radio">
                                                                <input type="radio" ng-model="entity.notif_send_mail" ng-value="dt_true" id="noti_finish_course">
                                                                <span for="noti_finish_course"  class="checkround"></span>
                                                                    ${get_res('right_after_finishing_course','Right after finishing Course')}
                                                            </label>
                                                            <label class="radio">
                                                                <input type="radio" ng-model="entity.notif_send_mail" ng-value="dt_false" id="noti_specific_time">
                                                                <span for="noti_specific_time"  class="checkround"></span>
                                                                    ${get_res('at_a_specific_time','At a specific time')}
                                                            </label>
                                                        </div>
                                                    </div>
                                                    <div class="form-group zb-form-group">
                                                        <label class="col-sm-6 zb-form-label">${get_res('from_date','From Date')}</label>
                                                        <div class="col-sm-6">
                                                            <date-picker ng-model="entity.notif_from_date"></date-picker>
                                                        </div>
                                                    </div>
                                                    <div class="form-group zb-form-group">
                                                        <label class="col-sm-6 zb-form-label">${get_res('to_date','To Date')}</label>
                                                        <div class="col-sm-6">
                                                            <date-picker ng-model="entity.notif_to_date"></date-picker>
                                                        </div>
                                                    </div>
                                                     <div class="form-group zb-form-group">
                                                        <label class="col-sm-6 zb-form-label">${get_res('from_time','From Time')}</label>
                                                        <div class="col-sm-6">
                                                            <time-picker  ng-model="entity.notif_from_time"></time-picker>
                                                        </div>
                                                    </div>
                                                    <div class="form-group zb-form-group">
                                                        <label class="col-sm-6 zb-form-label">${get_res('to_time','To Time')}</label>
                                                        <div class="col-sm-6">
                                                            <time-picker ng-model="entity.notif_to_time"></time-picker>
                                                        </div>
                                                    </div>
                                                    <div class="form-group zb-form-group">
                                                        <label class="col-sm-6 zb-form-label">${get_res('send_email_again_after','Send email again after')}</label>
                                                        <div class="col-sm-6">
                                                            <input-select 
                                                            data-list="vll_LMS_LSurvey_send_email_again_after"
                                                            ng-model="entity.survey_send_email_again"
                                                            placeholder="${get_res('sur_ques_order_place_holder','')}"
                                                            data-value="value" 
                                                            data-caption="caption"/>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </collapse-box >
                                    </div>
                                    <div class="col-xs-12 col-md-6">
                                            <collapse-box class="zb-form-common"   title="${get_res('confirmation_emails','Confirmation Emails')}"> 
                                            
                                            <div class="zb-content hcs-zb-content-custom">
                                                <div class="col-xs-12 col-md-12 col-sm-12" style="padding-right:unset;">
                                                    <div class="form-group zb-form-group">
                                                        <label class="col-sm-6 zb-form-label">${get_res('email_template','Email Template')}</label>
                                                        <div class="col-sm-6">
                                                                
                                                            <combobox 
                                                            load-data="$root.$getComboboxData"
                                                            ng-model="entity.confirm_email_temp"
                                                            params="{key:'${encryptor.get_key('lms_cbb_sur_question_category')}', value:[]}"
                                                            on-search-change="false"
                                                            on-search-press="true"
                                                            placeholder=""
                                                            init-data="$$$lms_cbb_sur_question_category.value"
                                                            caption-field="{{$$$lms_cbb_sur_question_category.caption_field}}"
                                                            paging="true"
                                                            close-on-select="true"
                                                            template-fields="$$$lms_cbb_sur_question_category.display_fields"
                                                            reload="false">
                                                        </combobox>
                                                        </div>
                                                    </div>
                                                    <div class="form-group zb-form-group">
                                                        <label class="col-sm-6 zb-form-label">${get_res('send_to','Send to')}</label>
                                                        <div class="col-sm-6">
                                                            <input-select 
                                                                data-list="vll_LMS_LSurvey_set_response_limit"
                                                                ng-model="entity.confirm_send_to"
                                                                placeholder="${get_res('sur_ques_order_place_holder','')}"
                                                                data-value="value" 
                                                                data-caption="caption"/>
                                                        </div>
                                                    </div>
                                                    <div class="form-group zb-form-group">
                                                        <label class="col-sm-6 zb-form-label">${get_res('CC','CC')}</label>
                                                        <div class="col-sm-6">
        
                                                            <input-select 
                                                            data-list="vll_LMS_LSurvey_set_response_limit"
                                                            ng-model="entity.confirm_CC"
                                                            placeholder="${get_res('sur_ques_order_place_holder','')}"
                                                            data-value="value" 
                                                            data-caption="caption"/>
                                                        </div>
                                                    </div>
                                                    <div class="form-group zb-form-group">
                                                        <label class="col-sm-6 zb-form-label">${get_res('BCC','BCC')}</label>
                                                        <div class="col-sm-6">
                                                            <input-select 
                                                                data-list="vll_LMS_LSurvey_set_response_limit"
                                                                ng-model="entity.confirm_BCC"
                                                                placeholder="${get_res('sur_ques_order_place_holder','')}"
                                                                data-value="value" 
                                                                data-caption="caption"/>
                                                        </div>
                                                    </div>
                                                                                                                                                            
                                                    <div class="form-group zb-form-group">
                                                        <label class="col-sm-6 zb-form-label">${get_res('when_to_send_mail','When to send mail')}</label>
                                                        <div class="col-sm-6">
                                                            <label class="radio">
                                                                <input type="radio" ng-model="entity.confirm_send_mail"ng-value="dt_true" id="finish_course" >
                                                                <span for="finish_course" class="checkround"></span>
                                                                    ${get_res('right_after_finishing_course','Right after finishing Course')}
                                                            </label>
                                                            <label class="radio">
                                                                <input type="radio" ng-model="entity.confirm_send_mail" ng-value="dt_false" id="specific_time">
                                                                <span for="specific_time" class="checkround"></span>
                                                                    ${get_res('at_a_specific_time','At a specific time')}
                                                            </label>
                                                        </div>
                                                    </div>
                                                    <div class="form-group zb-form-group">
                                                        <label class="col-sm-6 zb-form-label">${get_res('from_date','From Date')}</label>
                                                        <div class="col-sm-6">
                                                            <date-picker ng-model="entity.confirm_from_date"></date-picker>
                                                        </div>
                                                    </div>
                                                    <div class="form-group zb-form-group">
                                                        <label class="col-sm-6 zb-form-label">${get_res('to_date','To Date')}</label>
                                                        <div class="col-sm-6">
                                                            <date-picker  ng-model="entity.confirm_to_date"></date-picker>
                                                        </div>
                                                    </div>
                                                     <div class="form-group zb-form-group">
                                                        <label class="col-sm-6 zb-form-label">${get_res('from_time','From Time')}</label>
                                                        <div class="col-sm-6">
                                                            <time-picker ng-model="entity.confirm_from_time"></time-picker>
                                                        </div>
                                                    </div>
                                                    <div class="form-group zb-form-group">
                                                        <label class="col-sm-6 zb-form-label">${get_res('to_time','To Time')}</label>
                                                        <div class="col-sm-6">
                                                            <time-picker ng-model="entity.confirm_to_time"></time-picker>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </collapse-box >
                                    </div>
                                </div>
                             
                       </div>
                    </div>
                </div>
               
               
            </div>
            <div class="clearfix"></div>
        </div>
    </div>
</div>
<script>
    <%include file="../scripts/survey_management_survey_settings.js"/>
</script>
