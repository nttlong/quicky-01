<div title="{{getTitle()}}" style="width:600px" class="dialog-form">
<div class="row">
	<div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">
        <span class="label">${get_app_res("Username")}</span>
	</div>
    <div class="col-xs-10 col-sm-10 col-md-10 col-lg-10">
    	<input type="text"  class="form-control" ng-model="data.username" placeholder="${get_app_res('Enter username')}">
    </div>
</div>
    <div class="row">
	<div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">
        <span class="label">${get_app_res("Email")}</span>
	</div>
    <div class="col-xs-10 col-sm-10 col-md-10 col-lg-10">
    	<input type="email"  class="form-control" ng-model="data.email" placeholder="${get_app_res('Enter email')}">
    </div>
</div>
   <div class="row">
	<div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">
        <span class="label">${get_app_res("Password")}</span>
	</div>
    <div class="col-xs-10 col-sm-10 col-md-10 col-lg-10">
    	<input type="password"  class="form-control" ng-model="data.password" placeholder="${get_app_res('Enter password')}">
    </div>
</div>
<div class="row">
	<div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">
        <span class="label">${get_app_res("First Name")}</span>
	</div>
    <div class="col-xs-10 col-sm-10 col-md-10 col-lg-10">
    	<input type="text"  class="form-control" ng-model="data.firstName" placeholder="${get_app_res('Enter First Name')}">
    </div>
</div>
<div class="row">
	<div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">
        <span class="label">${get_app_res("Last Name")}</span>
	</div>
    <div class="col-xs-10 col-sm-10 col-md-10 col-lg-10">
    	<input type="text"  class="form-control" ng-model="data.lastName" placeholder="${get_app_res('Enter Last Name')}">
    </div>
</div>
    <div class="row">
	<div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">
        <span class="label">${get_app_res("Super user")}</span>
	</div>
    <div class="col-xs-10 col-sm-10 col-md-10 col-lg-10">
    	<input type="checkbox" ng-model="data.isSuperUser">
    </div>
</div>
</div>
<div class="row">
	<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
        <div class="btn-toolbar pull-right" role="toolbar">
            <div class="btn-group">

            </div>
            <div class="btn-group">
                <button type="button" class="btn btn-default" ng-click="doSave()">${get_app_res("Save")}</button>

            </div>
            <div class="btn-group">
                <button type="button" class="btn btn-default" ng-click="$doClose()">${get_app_res("Close")}</button>
            </div>
        </div>
	</div>
</div>
<script>
    (function(scope,params){
        scope.data={};
        scope.doSave=function(){
            var api_key='${get_api_key("api.privileges/user_manager_add_new_user")}';
            if(params && params.username){
                api_key='${get_api_key("api.privileges/user_manager_update_user")}';
            }
            scope.data.schema=(params)?params.schema:null;
            scope.$parent.$ws.api(api_key).data(scope.data)
            .done()
            .then(function(res){
                if(res.error){
                    scope.$error(res)
                }
                else {
                    scope.$ok();
                    scope.$doClose();
                }
            })
        }
    });
</script>